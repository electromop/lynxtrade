# LYNX Trading Platform - Demo

Демо-версия торговой платформы с функционалом бинарных опционов.

## Технологии

- **Frontend**: HTML, CSS, Vanilla JavaScript
- **Backend**: Python Flask
- **База данных**: SQLite
- **WebSocket**: Flask-SocketIO для real-time обновлений
- **Графики**: Lightweight Charts (TradingView)

## Установка и запуск

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Запуск сервера

```bash
cd backend
python app.py
```

Сервер запустится на `http://localhost:5000`

### 3. Открытие приложения

Откройте файл `frontend/index.html` в браузере или используйте локальный веб-сервер:

```bash
# Python 3
cd frontend
python -m http.server 8000
```

Затем откройте `http://localhost:8000` в браузере.

## Функционал

### Торговая платформа

- Выбор торговых пар (Bitcoin по умолчанию)
- Добавление новых пар через кнопку "+"
- Свечные графики с real-time обновлениями
- Создание торговых раундов (BUY/SELL)
- Несколько одновременных раундов
- Отслеживание времени до завершения раунда
- Автоматическое обновление баланса после завершения раунда
- Отображение серверного времени

### Админ-панель

Доступна по адресу `frontend/admin.html`

- Установка процента выигрыша (0-100)
  - 0% - пользователь всегда проигрывает
  - 50% - случайный результат (50/50)
  - 100% - пользователь всегда выигрывает

## Структура проекта

```
lynxtrade/
├── frontend/
│   ├── index.html          # Главная страница торговли
│   ├── admin.html          # Админ-панель
│   ├── css/
│   │   └── styles.css      # Стили
│   └── js/
│       ├── app.js          # Основная логика торговли
│       └── chart.js         # Работа с графиками
├── backend/
│   ├── app.py              # Flask приложение
│   ├── models.py           # Модели БД
│   ├── routes.py           # REST API маршруты
│   ├── websocket.py        # WebSocket обработчики
│   ├── trading_logic.py    # Логика торговых раундов
│   └── utils.py            # Утилиты
├── database/
│   └── db.sqlite           # SQLite база данных (создается автоматически)
└── requirements.txt
```

## API Endpoints

- `GET /api/pairs` - список торговых пар
- `POST /api/pairs` - добавление новой пары
- `POST /api/rounds` - создание торгового раунда
- `GET /api/rounds/active` - активные раунды пользователя
- `GET /api/balance` - баланс пользователя
- `GET /api/chart-data/<pair_id>` - данные для графика
- `GET /api/server-time` - серверное время
- `GET /api/admin/win-rate` - получить процент выигрыша
- `POST /api/admin/win-rate` - установить процент выигрыша

## WebSocket события

- `server_time` - обновление серверного времени
- `round_finished` - завершение раунда с результатом
- `round_update` - обновление времени раунда

## Примечания

- База данных создается автоматически при первом запуске
- По умолчанию создается пользователь с балансом 10,000
- Предустановленные торговые пары: Bitcoin, EUR/USD, GBP/USD, USD/JPY, Ethereum
- Процент выигрыша по умолчанию: 50%
- Прибыль при выигрыше: 85% от суммы ставки




